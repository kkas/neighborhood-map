var myApp=myApp||{};!function(app){"use strict";var ICON_SIZE="32";app.VenueViewModel=function(data){var icon,self=this;self.createInfoWindowContent=function(){var infoWindowContentHTML='<div class="content">',NAME_TMPL='<p class="name">%%data%%</p>',BASE_TMPL='<p><span class="content-label">%%label%%</span>%%data%%</p>',URL_TMPL=BASE_TMPL.replace(/%%label%%/,"URL: ").replace(/%%data%%/,'<a href="%%data%%">%%data%%</a>'),CONTACT_TMPL=BASE_TMPL.replace(/%%label%%/,"Contact: ").replace(/%%data%%/,'<ul class="contact-list">%%data%%</ul>'),HOURS_TMPL=BASE_TMPL.replace(/%%label%%/,"Hours: "),PRICE_TMPL=BASE_TMPL.replace(/%%label%%/,"Price: "),RATING_TMPL=BASE_TMPL.replace(/%%label%%/,"Rating: ");return infoWindowContentHTML+=self.name?NAME_TMPL.replace(/%%data%%/,self.name):"",infoWindowContentHTML+=self.contact?CONTACT_TMPL.replace(/%%data%%/,self.createContact(self.contact)):"",infoWindowContentHTML+=self.url?URL_TMPL.replace(/%%data%%/g,self.url):"",infoWindowContentHTML+=self.hours&&self.hours.status?HOURS_TMPL.replace(/%%data%%/,self.hours.status):"",infoWindowContentHTML+=self.price?PRICE_TMPL.replace(/%%data%%/,self.price.message):"",infoWindowContentHTML+=self.rating?RATING_TMPL.replace(/%%data%%/,self.rating):"",infoWindowContentHTML+="</div>"},self.createContact=function(contact){var contactHTML="",BASE_TMPL='<li><span class="content-label">%%label%%: </span>%%data%%</li>',TWITTER_TMPL=BASE_TMPL.replace(/%%label%%/,"Twitter"),FORMATTED_PHONE_TMPL=BASE_TMPL.replace(/%%label%%/,"Phone");return contactHTML+=contact.twitter?TWITTER_TMPL.replace(/%%data%%/,"@"+contact.twitter):"",contactHTML+=contact.formattedPhone?FORMATTED_PHONE_TMPL.replace(/%%data%%/,contact.formattedPhone):""};for(var key in data)self[key]=data[key];data.categories.length>0?(icon=data.categories[0].icon,self.icon=icon.prefix+"bg_"+ICON_SIZE+icon.suffix):self.icon=void 0,self.position=new google.maps.LatLng(self.location.lat,self.location.lng),self.marker=void 0,self.infoWindowContent=self.createInfoWindowContent(self),self.isVisible=ko.observable(!0),self.error=ko.observable(!1),self.errorMessage="Failed to get response from FourSquare Search"}}(myApp);